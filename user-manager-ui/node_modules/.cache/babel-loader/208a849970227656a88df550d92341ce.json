{"ast":null,"code":"import _regeneratorRuntime from\"/Users/massimo.sposato/react ws/user-manager-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/massimo.sposato/react ws/user-manager-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/massimo.sposato/react ws/user-manager-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import UserDataService from\"../services/UserDataService\";import UserData from\"../components/UserData\";import ReactPaginate from\"react-paginate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserDataList=function UserDataList(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),usersData=_useState4[0],setUsersData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),items=_useState6[0],setItems=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),pageCount=_useState8[0],setPageCount=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),itemOffset=_useState10[0],setItemOffset=_useState10[1];var limit=5;// const numberOfUsersVistited = page * usersPerPage;\nuseEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return UserDataService.allUserData();case 4:response=_context.sent;setUsersData(response.data);setItems(usersData);setPageCount(response.data.length/limit);setItems(usersData);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 14:setLoading(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var handlePageClick=function handlePageClick(data){console.log(\"handlePageClick\");console.log(data.selected);var newOffset=data.selected*limit%items.length;var currentPage=data.selected+1;var response=UserDataService.allUserDataFetchPag(currentPage,limit);var total=usersData.length;};var editUser=function editUser(e,id){e.preventDefault();};var deleteUser=function deleteUser(e,id){e.preventDefault();UserDataService.deleteUserData(id).then(function(res){if(usersData){setUsersData(function(prevElement){return prevElement.filter(function(userData){return userData.id!==id;});});}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/addUserData\");},className:\"h-12 rounded text-white font-semibold bg-slate-600 hover:bg-slate-800 py-2 px-6 font-semibold\",children:\"Add UserData\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex shadow border-b\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"E-mail id\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-right font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Actions\"})]})}),!loading&&/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white\",children:usersData.map(function(userData){return/*#__PURE__*/_jsx(UserData,{userData:userData,deleteUser:deleteUser},userData.id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex shadow border-b\",children:/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:'Previous',nextLabel:'Next',breakLabel:\"...\",pageCount:pageCount,marginPagesDisplayed:3,marginRangeDisplayed:2,onPageChange:handlePageClick,containerClassName:\"pagination justify-content-center\",pageClassName:'page-item',pageLinkClassName:'page-link',previousLinkClassName:'page-link',nextClassName:'page-item',nextLinkClassName:'page-link',breakClassName:\"page-item\",breakLinkClassName:'page-link',activeClassName:'active'})})]});};export default UserDataList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","UserDataService","UserData","ReactPaginate","UserDataList","navigate","loading","setLoading","usersData","setUsersData","items","setItems","pageCount","setPageCount","itemOffset","setItemOffset","limit","fetchData","allUserData","response","data","length","console","log","handlePageClick","selected","newOffset","currentPage","allUserDataFetchPag","total","editUser","e","id","preventDefault","deleteUser","deleteUserData","then","res","prevElement","filter","userData","map"],"sources":["/Users/massimo.sposato/react ws/user-manager-ui/src/components/UserDataList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserDataService from \"../services/UserDataService\";\nimport UserData from \"../components/UserData\";\nimport ReactPaginate from \"react-paginate\";\n\n\nconst UserDataList = () => {\n\n    const navigate = useNavigate();\n    const [loading, setLoading ] = useState(true);\n    const [usersData, setUsersData ] = useState(null);\n    const [items, setItems] = useState([]);\n    const [pageCount, setPageCount] = useState(0);\n    const [itemOffset, setItemOffset] = useState(0);\n    const limit = 5;\n    // const numberOfUsersVistited = page * usersPerPage;\n\n    useEffect(()=> {\n        const fetchData = async() => {\n            setLoading(true);\n            try {\n                const response = await UserDataService.allUserData();\n                setUsersData(response.data);\n                setItems(usersData);\n                setPageCount(response.data.length / limit)\n               setItems(usersData);\n               \n            } catch (error) {\n                console.log(error);\n            }\n            setLoading(false);\n        };\n        fetchData();\n    }, []);\n\n    const handlePageClick = (data) => {\n        console.log(\"handlePageClick\");\n        console.log(data.selected);\n        const newOffset = (data.selected * limit) % items.length;  \n        \n        let currentPage = data.selected + 1;\n        const response =  UserDataService.allUserDataFetchPag(currentPage,limit);\n        const total = usersData.length;\n        \n    };\n    \n    const editUser =  (e, id) => {\n        e.preventDefault();\n\n    }\n\n    const deleteUser =  (e, id) => {\n        e.preventDefault();\n        UserDataService.deleteUserData(id).then((res) => {\n           if(usersData){\n                setUsersData((prevElement) => {\n                    return prevElement.filter((userData) => userData.id !== id);\n                });\n           }\n        });\n    };\n\n   \n\n    return (\n    <div className=\"container mx-auto my-8\">\n        <div>\n            <button onClick={()=>navigate(\"/addUserData\")} className=\"h-12 rounded text-white font-semibold bg-slate-600 hover:bg-slate-800 py-2 px-6 font-semibold\">\n                Add UserData\n            </button>\n        </div>\n        <div className=\"flex shadow border-b\">\n          \n                <table className=\"min-w-full\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">First Name</th>\n                            <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">Last Name</th>\n                            <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">E-mail id</th>\n                            <th className=\"text-right font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">Actions</th>\n                        </tr>\n                    </thead>\n                    {!loading && (\n                        <tbody className=\"bg-white\">\n                        {usersData.map((userData) => (\n                                <UserData userData={userData} deleteUser={deleteUser} key={userData.id}></UserData>\n                            ))}\n                    </tbody>\n                    )}\n                </table>\n            </div>\n            <div className=\"flex shadow border-b\">\n                <ReactPaginate\n                    previousLabel={'Previous'}\n                    nextLabel={'Next'}\n                    breakLabel=\"...\"\n                    pageCount={pageCount}\n                    marginPagesDisplayed={3}\n                    marginRangeDisplayed={2}\n                    onPageChange={handlePageClick}\n                    containerClassName={\"pagination justify-content-center\"}\n                    pageClassName={'page-item'}\n                    pageLinkClassName={'page-link'}\n                    previousLinkClassName={'page-link'}\n                    nextClassName={'page-item'}\n                    nextLinkClassName={'page-link'}\n                    breakClassName={\"page-item\"}\n                    breakLinkClassName={'page-link'}\n                    activeClassName={'active'}\n                   />\n             </div>\n    </div>\n    );\n} \nexport default UserDataList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}