{"ast":null,"code":"import _regeneratorRuntime from\"/Users/massimo.sposato/react ws/user-manager-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/massimo.sposato/react ws/user-manager-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/massimo.sposato/react ws/user-manager-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import UserDataService from\"../services/UserDataService\";import UserData from\"../components/UserData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserDataList=function UserDataList(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),usersData=_useState4[0],setUsersData=_useState4[1];var deleteUser=function deleteUser(e,id){e.preventDefault();UserDataService.deleteUser(id).then(function(res){if(usersData){setUsersData(function(prevElement){return prevElement.filter(function(userData){return userData.id!==id;});});}});};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return UserDataService.allUserData();case 4:response=_context.sent;setUsersData(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/addUserData\");},className:\"h-12 rounded text-white font-semibold bg-slate-600 hover:bg-slate-800 py-2 px-6 font-semibold\",children:\"Add UserData\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex shadow border-b\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"E-mail id\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-right font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Actions\"})]})}),!loading&&/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white\",children:usersData.map(function(userData){return/*#__PURE__*/_jsx(UserData,{userData:userData,deleteUser:deleteUser},userData.id);})})]})})]});};export default UserDataList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","UserDataService","UserData","UserDataList","navigate","loading","setLoading","usersData","setUsersData","deleteUser","e","id","preventDefault","then","res","prevElement","filter","userData","fetchData","allUserData","response","data","console","log","map"],"sources":["/Users/massimo.sposato/react ws/user-manager-ui/src/components/UserDataList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserDataService from \"../services/UserDataService\";\nimport UserData from \"../components/UserData\";\n\nconst UserDataList = () => {\n\n    const navigate = useNavigate();\n    const [loading, setLoading ] = useState(true);\n    const [usersData, setUsersData ] = useState(null);\n\n    const deleteUser =  (e, id) => {\n        e.preventDefault();\n        UserDataService.deleteUser(id).then((res) => {\n           if(usersData){\n            setUsersData((prevElement) => {\n                return prevElement.filter((userData) => userData.id !==id);\n            })\n           }\n        });\n    };\n\n    useEffect(()=> {\n        const fetchData = async() => {\n            setLoading(true);\n            try {\n                const response = await UserDataService.allUserData();\n                setUsersData(response.data);\n            } catch (error) {\n                console.log(error);\n            }\n            setLoading(false);\n        };\n        fetchData();\n    }, []);\n\n\n    return (\n    <div className=\"container mx-auto my-8\">\n        <div>\n            <button onClick={()=>navigate(\"/addUserData\")} className=\"h-12 rounded text-white font-semibold bg-slate-600 hover:bg-slate-800 py-2 px-6 font-semibold\">\n                Add UserData\n            </button>\n        </div>\n        <div className=\"flex shadow border-b\">\n            <table className=\"min-w-full\">\n                <thead className=\"bg-gray-50\">\n                    <tr>\n                        <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">First Name</th>\n                        <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">Last Name</th>\n                        <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">E-mail id</th>\n                        <th className=\"text-right font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">Actions</th>\n                    </tr>\n                </thead>\n                {!loading && (\n                    <tbody className=\"bg-white\">\n                       {usersData.map((userData) => (\n                            <UserData userData={userData} \n                                deleteUser={deleteUser} \n                                key={userData.id}></UserData>\n                        ))}\n                </tbody>\n                )}\n            </table>\n        </div>\n    </div>\n    );\n} \nexport default UserDataList;"],"mappings":"+ZAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,gBAAP,KAA4B,6BAA5B,CACA,MAAOC,SAAP,KAAqB,wBAArB,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CAEvB,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,cAA+BD,QAAQ,CAAC,IAAD,CAAvC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAmCP,QAAQ,CAAC,IAAD,CAA3C,yCAAOQ,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,WAAU,CAAI,QAAdA,WAAc,CAACC,CAAD,CAAIC,EAAJ,CAAW,CAC3BD,CAAC,CAACE,cAAF,GACAX,eAAe,CAACQ,UAAhB,CAA2BE,EAA3B,EAA+BE,IAA/B,CAAoC,SAACC,GAAD,CAAS,CAC1C,GAAGP,SAAH,CAAa,CACZC,YAAY,CAAC,SAACO,WAAD,CAAiB,CAC1B,MAAOA,YAAW,CAACC,MAAZ,CAAmB,SAACC,QAAD,QAAcA,SAAQ,CAACN,EAAT,GAAeA,EAA7B,EAAnB,CAAP,CACH,CAFW,CAAZ,CAGA,CACH,CAND,EAOH,CATD,CAWAb,SAAS,CAAC,UAAK,CACX,GAAMoB,UAAS,4FAAG,kJACdZ,UAAU,CAAC,IAAD,CAAV,CADc,sCAGaL,gBAAe,CAACkB,WAAhB,EAHb,QAGJC,QAHI,eAIVZ,YAAY,CAACY,QAAQ,CAACC,IAAV,CAAZ,CAJU,+EAMVC,OAAO,CAACC,GAAR,cANU,QAQdjB,UAAU,CAAC,KAAD,CAAV,CARc,oEAAH,kBAATY,UAAS,0CAAf,CAUAA,SAAS,GACZ,CAZQ,CAYN,EAZM,CAAT,CAeA,mBACA,aAAK,SAAS,CAAC,wBAAf,wBACI,kCACI,eAAQ,OAAO,CAAE,yBAAId,SAAQ,CAAC,cAAD,CAAZ,EAAjB,CAA+C,SAAS,CAAC,+FAAzD,0BADJ,EADJ,cAMI,YAAK,SAAS,CAAC,sBAAf,uBACI,eAAO,SAAS,CAAC,YAAjB,wBACI,cAAO,SAAS,CAAC,YAAjB,uBACI,mCACI,WAAI,SAAS,CAAC,wEAAd,wBADJ,cAEI,WAAI,SAAS,CAAC,wEAAd,uBAFJ,cAGI,WAAI,SAAS,CAAC,wEAAd,uBAHJ,cAII,WAAI,SAAS,CAAC,yEAAd,qBAJJ,GADJ,EADJ,CASK,CAACC,OAAD,eACG,cAAO,SAAS,CAAC,UAAjB,UACIE,SAAS,CAACiB,GAAV,CAAc,SAACP,QAAD,qBACV,KAAC,QAAD,EAAU,QAAQ,CAAEA,QAApB,CACI,UAAU,CAAER,UADhB,EAESQ,QAAQ,CAACN,EAFlB,CADU,EAAd,CADJ,EAVR,GADJ,EANJ,GADA,CA8BH,CA9DD,CA+DA,cAAeR,aAAf"},"metadata":{},"sourceType":"module"}